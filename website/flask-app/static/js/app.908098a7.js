(function(t){function e(e){for(var a,i,n=e[0],l=e[1],c=e[2],m=0,d=[];m<n.length;m++)i=n[m],r[i]&&d.push(r[i][0]),r[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],a=!0,n=1;n<s.length;n++){var l=s[n];0!==r[l]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},r={app:0},o=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var u=l;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"02e6":function(t,e,s){},"034f":function(t,e,s){"use strict";var a=s("85ec"),r=s.n(a);r.a},"0867":function(t,e,s){"use strict";var a=s("d491"),r=s.n(a);r.a},"0c3b":function(t,e,s){},"15b3":function(t,e,s){},"18d5":function(t,e,s){t.exports=s.p+"static/img/user.a60613b4.jpg"},"1af7":function(t,e,s){"use strict";var a=s("a8d3"),r=s.n(a);r.a},"26ba":function(t,e,s){},"2e5e":function(t,e,s){"use strict";var a=s("ac54"),r=s.n(a);r.a},"2eff":function(t,e,s){},"30ab":function(t,e,s){},"30fa":function(t,e,s){t.exports=s.p+"static/img/nocover.1b762260.jpg"},"3a43":function(t,e,s){"use strict";var a=s("6a49"),r=s.n(a);r.a},"3ac5":function(t,e,s){"use strict";var a=s("9f1f"),r=s.n(a);r.a},"3b65":function(t,e,s){"use strict";var a=s("b6c9"),r=s.n(a);r.a},5621:function(t,e,s){"use strict";var a=s("cf3d"),r=s.n(a);r.a},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),r=s("5c96"),o=s.n(r),i=(s("0fae"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"main",class:t.getBodyStyle(),attrs:{id:"app"},on:{contextmenu:function(t){t.preventDefault()}}},[s("Navigation"),s("div",{attrs:{id:"view"}},[s("router-view")],1)],1)}),n=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"navigation"}},[a("div",{staticClass:"ico-box"},[a("img",{attrs:{src:s("cf05"),width:"45px",alt:"logo"}}),a("router-link",{attrs:{to:"/"}},[a("strong",[t._v("Reader Club")])])],1),a("div",{staticClass:"center"},[a("div",{staticClass:"search-box"},[a("el-input",{attrs:{placeholder:"输入需要搜索的小说"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search()}},model:{value:t.search_key,callback:function(e){t.search_key=e},expression:"search_key"}},[a("el-button",{attrs:{slot:"suffix",type:"text",icon:"el-icon-search",circle:""},on:{click:function(e){return t.search()}},slot:"suffix"})],1)],1),t.login?a("div",{staticClass:"user-box"},[a("el-popover",{attrs:{placement:"bottom",width:"200",trigger:"hover"}},[a("div",{staticClass:"operation"},[a("el-button",{attrs:{type:"text"},on:{click:function(e){return t.toSpace()}}},[t._v("个人中心")]),a("el-button",{attrs:{type:"text"},on:{click:function(e){return t.logout()}}},[t._v("退出")])],1),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[a("img",{staticClass:"avatar",attrs:{src:s("18d5"),width:"40px",alt:"user image"},on:{click:function(e){return t.toSpace()}}})])],1),a("p",{staticClass:"name-box"},[t._v(t._s(this.$store.state.authorization.username))])],1):a("div",{staticClass:"user-box"},[a("router-link",{attrs:{to:"/login"}},[t._v("登录")]),a("router-link",{attrs:{to:"/register"}},[t._v("注册")])],1)])])},c=[],u={name:"navigation",data(){return{search_key:""}},computed:{login(){return this.$store.getters.getLoginResult}},methods:{search(){""===this.search_key?this.$message({message:"请输入所要搜索的内容",type:"warning"}):(this.$router.push({name:"search",query:{keyword:this.search_key}}),this.search_key="")},logout(){this.$store.commit("removeToken"),"space"===this.$route.name&&this.$router.push("/")},toSpace(){this.$router.push(`/space/${this.$store.getters.getUserId}`)}}},m=u,d=(s("6932"),s("2877")),h=Object(d["a"])(m,l,c,!1,null,"0967e10b",null),p=h.exports,g={components:{Navigation:p},methods:{getBodyStyle(){switch(this.$route.path){case"/":return"home-body";case"/login":case"/register":return"user-body";case"/chapter":return`${this.$store.getters.getTheme}-body`;default:return"home-body"}}}},f=g,_=(s("034f"),Object(d["a"])(f,i,n,!1,null,null,null)),v=_.exports,k=s("8c4f"),b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"book-detail"},[s("div",{staticClass:"link-box"},[s("el-breadcrumb",{attrs:{separator:">"}},[s("el-breadcrumb-item",[s("router-link",{attrs:{to:"/"}},[t._v("首页")])],1),s("el-breadcrumb-item",[s("router-link",{attrs:{to:{path:"/type/"+t.book_type}}},[t._v(t._s(t.book_type))])],1),s("el-breadcrumb-item",[t._v(t._s(t.name))])],1)],1),s("div",{staticClass:"message"},[s("div",{staticClass:"img-box"},[s("img",{attrs:{src:t.image_url,alt:t.name,width:"140",height:"175"},on:{error:function(e){return t.imgDefault(e)}}})]),s("div",{staticClass:"desc-box"},[s("h1",[t._v(t._s(t.name))]),s("p",[t._v("作       者："+t._s(t.author))]),s("p",[t._v("状       态："+t._s(t.status))]),s("p",[t._v("最后更新："+t._s(t.update_time))]),s("p",[t._v("\n        最新章节：\n        "),s("router-link",{staticStyle:{color:"rgb(124, 153, 204)"},attrs:{to:{name:"chapter",query:{link:t.latest_chapter_url}}}},[t._v(t._s(t.latest_chapters))])],1),s("div",{staticClass:"intro"},[s("p",[t._v(t._s(t.description))])])])]),s("div",{staticClass:"opration-box"},[s("el-button",{on:{click:function(e){return t.addToShelf()}}},[t._v("加入书架")]),s("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.readBook()}}},[t._v("开始阅读")])],1),s("div",{staticClass:"commend-box"},[s("comment-add",{attrs:{name:t.name,author:t.author},on:{commentAddSuccess:t.initComments}}),s("div",{staticClass:"comment-list"},[0===t.comments.length?s("p",[t._v("暂无评论")]):t._l(t.comments,function(t){return s("comment-item",{key:t.comment_id,attrs:{Item:t}})})],2)],1),s("to-top")],1)},y=[],w=s("bc3a"),C=s.n(w),x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.btnFlag?s("div",{staticClass:"iconfont icon-top to-top",on:{click:function(e){return t.toTop()}}}):t._e()},$=[],T={name:"to-top",data(){return{btnFlag:!1}},methods:{toTop(){let t=this,e=setInterval(()=>{let s=Math.floor(-t.scrollTop/5);document.getElementById("app").scrollTop=t.scrollTop+s,0===t.scrollTop&&clearInterval(e)},16)},scrollToTop(){let t=this,e=document.getElementById("app").scrollTop;t.scrollTop=e,t.scrollTop>60?t.btnFlag=!0:t.btnFlag=!1}},mounted(){document.getElementById("app").addEventListener("scroll",this.scrollToTop)},destroyed(){document.getElementById("app").removeEventListener("scroll",this.scrollToTop)}},q=T,j=(s("cfd4"),Object(d["a"])(q,x,$,!1,null,"c0494b34",null)),S=j.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"comment-add"},[s("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:10},placeholder:"请输入内容"},model:{value:t.comment_text,callback:function(e){t.comment_text=e},expression:"comment_text"}}),s("div",{staticClass:"block"},[s("el-rate",{attrs:{colors:["#99A9BF","#F7BA2A","#FF9900"]},model:{value:t.score,callback:function(e){t.score=e},expression:"score"}})],1),s("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){return t.submitComment()}}},[t._v("提交评论")])],1)},E=[],O={name:"comment-add",data(){return{comment_text:"",score:0}},methods:{submitComment(){this.$store.getters.getLoginResult?""===this.comment_text?this.$message({message:"请输入评论！",type:"warning"}):0===this.score?this.$message({message:"请选择评分",type:"warning"}):C.a.post("/comment/add",{book_name:this.name,book_author:this.author,comment_text:this.comment_text,score:this.score},{headers:{Authorization:this.$store.getters.getToken}}).then(t=>{412===t.data.status?(this.$message({message:"添加成功",type:"success"}),this.$emit("commentAddSuccess")):this.$message({message:"网络错误",type:"warning"})}).catch(()=>{this.$message({message:"未登录...",type:"warning"}),this.$router.push("/login")}):(this.$message({message:"请登录...",type:"warning"}),this.$router.push("/login"))}},props:{name:{type:String,default:"",required:!0},author:{type:String,defaul:"",required:!0}}},I=O,L=(s("3ac5"),Object(d["a"])(I,F,E,!1,null,"7a349e68",null)),B=L.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"comment-item"},[s("p",[t._v(t._s(t.Item.comment_text))]),s("div",{staticClass:"box"},[s("div",{staticClass:"score-box"},[s("el-rate",{attrs:{disabled:"","show-score":"","text-color":"#ff9900","score-template":"{value}"},model:{value:t.Item.comment_score,callback:function(e){t.$set(t.Item,"comment_score",e)},expression:"Item.comment_score"}})],1),s("p",{staticClass:"name-box"},[t._v(t._s(t.Item.user_name))]),s("p",{staticClass:"time-box"},[t._v(t._s(t.Item.comment_time))]),s("p",{staticStyle:{clear:"both"}})])])},z=[],D={name:"comment-item",props:{Item:{type:Object,default:null,required:!0}}},R=D,P=(s("9433"),Object(d["a"])(R,A,z,!1,null,"5389f8c6",null)),M=P.exports,N={name:"book-detail",data(){return{loading:!0,name:"",author:"",status:"",book_type:"",update_time:"",latest_chapters:"",latest_chapter_url:"",image_url:"",description:"",catalogs:[],comments:[]}},methods:{imgDefault(t){this.image_url=s("30fa")},addToShelf(){C.a.post("/book/add",{name:this.name,author:this.author,description:this.description,source_url:this.$route.query.url,book_type:this.book_type},{headers:{Authorization:this.$store.getters.getToken}}).then(t=>{212===t.data.status?this.$message({message:"添加成功",type:"success"}):this.$message({message:"网络错误",type:"warning"})}).catch(()=>{this.$message({message:"请登陆账号...",type:"warning"}),this.$router.push("/login")})},readBook(){this.$router.push({name:"chapter",query:{link:this.catalogs[0].link}})},initMessage(){return C.a.post("http://localhost:9080/crawl.json",{spider_name:"Catalog",request:{url:this.$route.query.url}}).then(t=>{if("ok"!==t.data.status)this.$message({message:"网络错误",type:"warning"});else{this.loading=!1;const e=t.data.items[0];this.name=e.name,this.author=e.author,this.status=e.status,this.book_type=e.book_type,this.update_time=e.update_time,this.latest_chapters=e.latest_chapters,this.latest_chapter_url=e.latest_chapter_url,this.image_url=e.image_url,this.description=e.description,this.catalogs=e.catalogs}}).catch(()=>{this.$message({message:"网络错误",type:"warning"})})},initComments(){C.a.post("/comment/book/list",{name:this.name,author:this.author}).then(t=>{this.comments=t.data.list})}},components:{ToTop:S,CommentAdd:B,CommentItem:M},created(){this.initMessage().then(()=>{this.initComments()})}},H=N,W=(s("7d23"),Object(d["a"])(H,b,y,!1,null,"79d22737",null)),J=W.exports,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{id:"login","element-loading-text":"登陆中...","element-loading-background":"#343f45"}},[s("div",{staticClass:"input-box"},[s("el-form",{ref:"loginForm",attrs:{model:t.loginForm,rules:t.rules}},[s("el-form-item",{attrs:{prop:"account"}},[s("el-input",{attrs:{type:"text","prefix-icon":"el-icon-user",placeholder:"用户名/邮箱"},model:{value:t.loginForm.account,callback:function(e){t.$set(t.loginForm,"account",e)},expression:"loginForm.account"}})],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{type:"password","prefix-icon":"el-icon-lock",autocomplete:"off",placeholder:"密码"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login()}},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),s("el-form-item",[s("el-button",{on:{click:function(e){return t.login()}}},[t._v("登录")])],1)],1)],1)])},Z=[],G={name:"login",data(){return{loading:!1,loginForm:{account:"",password:""},rules:{account:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:8,max:18,message:"密码长度在 8 到 18 个字符",trigger:"blur"}]}}},methods:{login(){this.loading=!0,this.$store.dispatch("loginAction",{account:this.loginForm.account,password:this.loginForm.password}).then(()=>{this.$store.getters.getLoginResult?(this.loading=!1,this.$message({message:"登陆成功",type:"success"}),this.$router.push("/")):(this.loading=!1,this.$message({message:"登陆失败",type:"warning"}))})}}},K=G,Q=(s("ce9e"),Object(d["a"])(K,U,Z,!1,null,"39dadd76",null)),V=Q.exports,X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"register"}},[s("div",{staticClass:"input-box"},[s("el-form",{ref:"registerForm",attrs:{"status-icon":"",model:t.registerForm,rules:t.rules}},[s("el-form-item",{attrs:{prop:"nickname"}},[s("el-input",{attrs:{type:"text","prefix-icon":"el-icon-user",placeholder:"用户名"},model:{value:t.registerForm.nickname,callback:function(e){t.$set(t.registerForm,"nickname",e)},expression:"registerForm.nickname"}})],1),s("el-form-item",{attrs:{prop:"email"}},[s("el-input",{attrs:{type:"text","prefix-icon":"el-icon-message",placeholder:"邮箱"},model:{value:t.registerForm.email,callback:function(e){t.$set(t.registerForm,"email",e)},expression:"registerForm.email"}})],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{placeholder:"请输入密码",type:"password","prefix-icon":"el-icon-lock",autocomplete:"off"},model:{value:t.registerForm.password,callback:function(e){t.$set(t.registerForm,"password",e)},expression:"registerForm.password"}})],1),s("el-form-item",{attrs:{prop:"checkpassword"}},[s("el-input",{attrs:{placeholder:"请再次输入密码",type:"password","prefix-icon":"el-icon-lock",autocomplete:"off"},model:{value:t.registerForm.checkpassword,callback:function(e){t.$set(t.registerForm,"checkpassword",e)},expression:"registerForm.checkpassword"}})],1),s("el-form-item",[s("el-button",{on:{click:function(e){return t.submitForm("registerForm")}}},[t._v("注册")])],1),s("el-form-item",[s("el-button",{on:{click:function(e){return t.resetForm("registerForm")}}},[t._v("重置")])],1)],1)],1)])},Y=[],tt={data(){let t=(t,e,s)=>{let a=/^(?!_)(?!.*?_$)[a-zA-Z0-9_\u4e00-\u9fa5]+$/;""===e?s(new Error("用户名不能为空")):a.test(e)?C.a.get("/user/name",{params:{nickname:e}}).then(t=>{131===t.data.status?s(new Error("网络错误")):132===t.data.status&&(t.data.exist?s(new Error("用户名已存在")):s())}):s(new Error("用户名只能包含汉字、数字、字母、下划线且不能以下划线开头和结尾"))},e=(t,e,s)=>{""===e?s(new Error("请输入密码")):(""!==this.registerForm.checkpassword&&this.$refs.registerForm.validateField("checkpassword"),s())},s=(t,e,s)=>{""===e?s(new Error("请再次输入密码")):e!==this.registerForm.password?s(new Error("两次输入密码不一致!")):s()};return{registerForm:{email:"",password:"",checkpassword:"",nickname:""},rules:{nickname:[{required:!0,message:"请输入用户名",trigger:"blur"},{validator:t,trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],password:[{min:8,max:18,message:"密码长度在 8 到 18 个字符",trigger:"blur"},{validator:e,trigger:"blur"}],checkpassword:[{min:8,max:18,message:"密码长度在 8 到 18 个字符",trigger:"blur"},{validator:s,trigger:"blur"}]}}},methods:{submitForm(t){this.$refs[t].validate(t=>{if(!t)return console.log("error submit!!"),!1;C.a.post("/user/register",{email:this.registerForm.email,password:this.registerForm.password,nickname:this.registerForm.nickname}).then(t=>{111===t.data.status||114===t.data.status?this.$message.error("网络提交出错"):113===t.data.status?this.$message({message:"邮箱已被注册",type:"warning"}):112===t.data.status?(this.$message({message:"注册成功",type:"success"}),this.$router.push("/login")):this.$message.error("未知错误")})})},resetForm(t){this.$refs[t].resetFields()}}},et=tt,st=(s("f083"),Object(d["a"])(et,X,Y,!1,null,"127dfd92",null)),at=st.exports,rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("div",{staticClass:"home-first"},[s("div",[s("classification")],1),s("div",[s("recommend")],1),t.getLoginResult?s("div",{staticClass:"recommend-item-box"},[s("p",{staticStyle:{"text-align":"center",margin:"0 0 5px"}},[t._v("推荐列表")]),t._l(t.recommendList,function(t){return s("recommend-item",{key:t.book_url,attrs:{Item:t}})})],2):t._e()]),s("div",{staticClass:"home-second"},t._l(this.$store.getters.getClassificationList,function(t){return s("div",{key:t.type_name,staticClass:"item"},[s("classification-recommend",{attrs:{type_name:t.type_name,recommend_first:t.recommend_first,recommend_list:t.recommend_list}})],1)}),0)])},ot=[],it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"classification"}},[s("ul",[s("li",{staticClass:"color-box"},[s("router-link",{attrs:{to:{path:"/type/玄幻魔法"}}},[s("span",{staticClass:"iconfont icon-xuanhuan"}),t._v("玄幻魔法\n      ")])],1),s("li",[s("router-link",{attrs:{to:{path:"/type/武侠修真"}}},[s("span",{staticClass:"iconfont icon-wuxia"}),t._v("武侠修真\n      ")])],1),s("li",{staticClass:"color-box"},[s("router-link",{attrs:{to:{path:"/type/都市言情"}}},[s("span",{staticClass:"iconfont icon-dushi"}),t._v("都市言情\n      ")])],1),s("li",[s("router-link",{attrs:{to:{path:"/type/历史军事"}}},[s("span",{staticClass:"iconfont icon-junshi"}),t._v("历史军事\n      ")])],1),s("li",{staticClass:"color-box"},[s("router-link",{attrs:{to:{path:"/type/网游动漫"}}},[s("span",{staticClass:"iconfont icon-erciyuan"}),t._v("网游动漫\n      ")])],1),s("li",[s("router-link",{attrs:{to:{path:"/type/科幻小说"}}},[s("span",{staticClass:"iconfont icon-kehuan"}),t._v("科幻小说\n      ")])],1),s("li",{staticClass:"color-box"},[s("router-link",{attrs:{to:{path:"/type/恐怖灵异"}}},[s("span",{staticClass:"iconfont icon-lingyi"}),t._v("恐怖灵异\n      ")])],1),s("li",[s("router-link",{attrs:{to:{path:"/type/其他小说"}}},[s("span",{staticClass:"iconfont icon-other"}),t._v("其他小说\n      ")])],1)])])},nt=[],lt=(s("8658"),{}),ct=Object(d["a"])(lt,it,nt,!1,null,"1852f077",null),ut=ct.exports,mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"recommend"}},[s("el-carousel",{attrs:{height:"300px"}},t._l(this.$store.getters.getHomeList,function(e){return s("el-carousel-item",{key:e.name},[s("div",{staticClass:"item"},[s("div",{staticClass:"img-box"},[s("router-link",{attrs:{to:{name:"detail",query:{url:e.link}}}},[s("img",{attrs:{src:e.image_url,alt:e.name,width:"120",height:"150"}})])],1),s("dl",{staticClass:"message-box"},[s("dt",[s("router-link",{attrs:{to:{name:"detail",query:{url:e.link}}}},[t._v(t._s(e.name))]),s("span",[t._v(t._s(e.author))])],1),s("dd",[t._v(t._s(e.description))])])])])}),1)],1)},dt=[],ht={name:"recommend"},pt=ht,gt=(s("3b65"),Object(d["a"])(pt,mt,dt,!1,null,"77a34a05",null)),ft=gt.exports,_t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"classification-recommend"},[s("h3",[t._v(t._s(t.type_name))]),s("div",{staticClass:"first"},[s("div",{staticClass:"img-box"},[s("router-link",{attrs:{to:{name:"detail",query:{url:t.recommend_first.link}}}},[s("img",{attrs:{src:t.recommend_first.image_url,width:"67",height:"82",alt:t.recommend_first.name},on:{error:function(e){return t.imgDefault(e)}}})])],1),s("div",{staticClass:"intro"},[s("router-link",{attrs:{to:{name:"detail",query:{url:t.recommend_first.link}}}},[s("h4",[t._v(t._s(t.recommend_first.name))])]),s("p",{staticClass:"des"},[t._v(t._s(t.recommend_first.description))])],1)]),s("ul",{staticClass:"list"},t._l(t.recommend_list,function(e){return s("li",{key:e.name},[s("router-link",{attrs:{to:{name:"detail",query:{url:e.link}}}},[t._v(t._s(e.name))]),s("span",[t._v("-")]),s("router-link",{staticStyle:{color:"rgba(52, 73, 94,0.6)"},attrs:{to:{name:"search",query:{keyword:e.author}}}},[s("span",[t._v(t._s(e.author))])])],1)}),0)])},vt=[],kt={name:"classification-recommend",props:{type_name:{type:String,default:"",required:!0},recommend_first:{type:Object,default:null,required:!0},recommend_list:{type:Array,default:null,required:!0}},methods:{imgDefault(t){this.item.image_url=s("30fa")}}},bt=kt,yt=(s("6262"),Object(d["a"])(bt,_t,vt,!1,null,"7dfaba3c",null)),wt=yt.exports,Ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"recommend-item"},[s("div",{staticClass:"box"},[s("div",{staticClass:"name-box"},[s("router-link",{attrs:{to:{name:"detail",query:{url:t.Item.book_url}}}},[t._v(t._s(t.Item.book_name))])],1),s("div",{staticClass:"author-box"},[s("router-link",{attrs:{to:{name:"search",query:{keyword:t.Item.book_author}}}},[s("span",[t._v(t._s(t.Item.book_author))])])],1)]),s("p",{staticClass:"des"},[t._v(t._s(t.Item.book_description))])])},xt=[],$t={props:{Item:{type:Object,default:null,required:!0}}},Tt=$t,qt=(s("5621"),Object(d["a"])(Tt,Ct,xt,!1,null,"38cf3be6",null)),jt=qt.exports,St=s("2f62"),Ft={name:"home",data(){return{url1:"http://localhost:9080/crawl.json",url2:""}},components:{Classification:ut,Recommend:ft,ClassificationRecommend:wt,RecommendItem:jt},computed:{...Object(St["d"])(["recommendList"]),...Object(St["c"])(["getLoginResult"])},methods:{...Object(St["b"])(["recommendAction"])},created(){this.recommendAction(),this.$store.dispatch("homeAction").then(t=>{"ok"!==t&&this.$message({message:"网络错误",type:"warning"})}).catch(()=>{this.$message({message:"网络错误",type:"warning"})})}},Et=Ft,Ot=(s("6944"),Object(d["a"])(Et,rt,ot,!1,null,"62656a9a",null)),It=Ot.exports,Lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chapter"},[s("page",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{chapter_title:t.title,content:t.content,catalogs_url:t.catalog_url,previous:t.previous_chapter,next:t.next_chapter,"element-loading-background":"rgba(0,0,0,0.4)"}})],1)},Bt=[],At=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"page"}},[s("div",{staticClass:"side",class:t.getPageColor()},[s("ul",[s("el-popover",{attrs:{placement:"right-start",trigger:"click"},model:{value:t.showCatalogs,callback:function(e){t.showCatalogs=e},expression:"showCatalogs"}},[s("el-tabs",{class:t.getSideColor(),attrs:{type:"border-card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"目录",name:"catalogs"}},[s("div",{staticClass:"catalog-box",class:t.getSideColor(),attrs:{"element-loading-background":"rgba(255,255,255,0.3)"}},[s("dl",t._l(t.catalogs,function(e){return s("dd",{key:e.link,on:{click:function(e){t.showCatalogs=!1}}},[s("router-link",{attrs:{to:{name:"chapter",query:{link:e.link}}}},[t._v(t._s(e.text))])],1)}),0)])]),s("el-tab-pane",{attrs:{label:"书签",name:"marks"}},[t._v("书签")])],1),s("li",{attrs:{slot:"reference"},slot:"reference"},[s("em",{staticClass:"iconfont icon-mulu"}),s("span",[t._v("目录")])])],1),s("el-popover",{attrs:{placement:"right-start",trigger:"click"},on:{hide:function(e){return t.resetTheme()}},model:{value:t.showSetting,callback:function(e){t.showSetting=e},expression:"showSetting"}},[s("div",{staticClass:"setting-box",class:t.getSideColor()},[s("dl",{staticClass:"color-list"},[s("dd",{class:"default"===t.theme?"el-icon-check":"",on:{click:function(e){t.theme="default"}}}),s("dd",{class:"yellow"===t.theme?"el-icon-check":"",on:{click:function(e){t.theme="yellow"}}}),s("dd",{class:"green"===t.theme?"el-icon-check":"",on:{click:function(e){t.theme="green"}}}),s("dd",{class:"blue"===t.theme?"el-icon-check":"",on:{click:function(e){t.theme="blue"}}}),s("dd",{class:"gray"===t.theme?"el-icon-check":"",on:{click:function(e){t.theme="gray"}}}),s("dd",{class:"black"===t.theme?"el-icon-check":"",on:{click:function(e){t.theme="black"}}})]),s("div",[s("el-button",{on:{click:function(e){t.showSetting=!1}}},[t._v("取消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.changeColor(t.theme)}}},[t._v("确认")])],1)]),s("li",{attrs:{slot:"reference"},slot:"reference"},[s("em",{staticClass:"iconfont icon-shezhi1"}),s("span",[t._v("设置")])])]),s("li",{on:{click:function(e){return t.addToShelf()}}},[s("em",{staticClass:"iconfont icon-shujia"}),t.isExist?s("span",[t._v("已在书架")]):s("span",[t._v("书架")])]),s("li",{on:{click:t.addMarks}},[s("em",{staticClass:"iconfont icon-icon--"}),s("span",[t._v("书签")])]),s("el-popover",{attrs:{placement:"right-start",trigger:"click"},on:{show:function(e){return t.judgeLogin()}},model:{value:t.showComment,callback:function(e){t.showComment=e},expression:"showComment"}},[s("div",{staticClass:"comment-box"},[s("comment-add",{attrs:{name:t.name,author:t.author},on:{commentAddSuccess:function(e){t.showComment=!1}}})],1),s("li",{attrs:{slot:"reference"},slot:"reference"},[s("em",{staticClass:"iconfont icon-pinglun"}),s("span",[t._v("评论")])])])],1)]),s("div",{staticClass:"main-box",class:t.getPageColor()},[s("div",{staticClass:"title-box"},[s("h3",[t._v(t._s(t.chapter_title))])]),s("p",{domProps:{innerHTML:t._s(t.content)}})]),s("div",{staticClass:"link-box",class:t.getPageColor()},[s("router-link",{attrs:{to:{name:"chapter",query:{link:t.previous}}}},[t._v("上一章")]),s("router-link",{attrs:{to:{name:"detail",query:{url:t.catalogs_url}}}},[t._v("目录")]),s("router-link",{attrs:{to:{name:"chapter",query:{link:t.next}}}},[t._v("下一章")])],1),s("to-top",{class:t.getPageColor()})],1)},zt=[],Dt={name:"page",data(){return{theme:this.$store.getters.getTheme,activeName:"catalogs",showCatalogs:!1,showSetting:!1,showMarks:!1,showComment:!1,loadding:!0,catalogs_loading:!0,name:"",author:"",catalogs:[]}},computed:{...Object(St["c"])(["getBookList","getLoginResult"]),isExist(){if(this.getLoginResult){let t=this.getBookList.find(t=>t.name===this.name&&t.author===this.author);return void 0!==t}return!1}},watch:{catalogs_url(t,e){this.getCatalogs()}},methods:{changeColor(t){this.$store.commit("setTheme",t),this.showSetting=!1},resetTheme(){this.theme=this.$store.getters.getTheme},getPageColor(){return`${this.$store.getters.getTheme}-page ${this.$store.getters.getTheme}-font`},getSideColor(){return`${this.$store.getters.getTheme}-side`},getCatalogs(){C.a.post("http://localhost:9080/crawl.json",{spider_name:"Catalog",request:{url:this.catalogs_url}}).then(t=>{if("ok"!==t.data.status)this.$message({message:"网络错误!",type:"warning"});else{this.catalogs_loading=!1;const e=t.data.items[0];this.catalogs=e.catalogs,this.name=e.name,this.author=e.author,this.description=e.description,this.book_type=e.book_type}}).catch(()=>{this.$message({message:"网络错误?",type:"warning"})})},addToShelf(){this.isExist||C.a.post("/book/add",{name:this.name,author:this.author,description:this.description,source_url:this.catalogs_url,book_type:this.book_type},{headers:{Authorization:this.$store.getters.getToken}}).then(t=>{212===t.data.status?(this.$message({message:"添加成功",type:"success"}),this.isExist=!0):this.$message({message:"网络错误",type:"warning"})}).catch(()=>{this.$message({message:"请登陆账号...",type:"warning"}),this.$router.push("/login")})},judgeLogin(){this.$store.getters.getLoginResult||(this.$message({message:"请登陆账号...",type:"warning"}),this.$router.push("/login"))},addMarks(){this.judgeLogin(),this.$message({message:"添加成功",type:"success"}),this.showMarks=!0},...Object(St["b"])(["getBookListAction"])},props:{chapter_title:{type:String,default:"",required:!0},content:{type:String,default:"",required:!0},catalogs_url:{type:String,default:"",required:!0},previous:{type:String,default:"",required:!0},next:{type:String,default:"",required:!0}},created(){this.getBookListAction()},mounted(){document.getElementById("app").addEventListener("scroll",this.scrollToTop)},destroyed(){document.getElementById("app").removeEventListener("scroll",this.scrollToTop)},components:{ToTop:S,CommentAdd:B}},Rt=Dt,Pt=(s("c020"),s("81c2"),Object(d["a"])(Rt,At,zt,!1,null,"ecbb75dc",null)),Mt=Pt.exports,Nt={name:"chapter",data(){return{loading:!0,title:"",previous_chapter:"",next_chapter:"",catalog_url:"",content:""}},components:{Page:Mt},created(){this.getData()},methods:{getData(){C.a.post("http://localhost:9080/crawl.json",{spider_name:"Chapter",request:{url:this.$route.query.link}}).then(t=>{if("ok"!==t.data.status)this.$message({message:"网络错误",type:"warning"});else if(t.data.errors)this.$router.push({name:"detail",query:{url:this.$route.query.link}});else{this.loading=!1;const e=t.data.items[0];this.title=e.title,this.previous_chapter=e.previous_chapter,this.next_chapter=e.next_chapter,this.catalog_url=e.catalog_url,this.content=e.content}}).catch(()=>{this.$message({message:"网络错误",type:"warning"})})}},watch:{$route(t,e){this.getData(),this.loading=!0,this.content="",this.title="",document.getElementById("app").scrollTop=0}}},Ht=Nt,Wt=(s("8ca8"),Object(d["a"])(Ht,Lt,Bt,!1,null,"43f367c3",null)),Jt=Wt.exports,Ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-result"},[s("p",[t._v("“"+t._s(t.keyword)+"”搜索结果:")]),t._l(t.results,function(t){return s("book-item",{key:t.source_url,attrs:{item:t}})}),s("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"result-list"},[t.page_count>1?s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:10*t.page_count},on:{"current-change":t.currentChange}}):t._e()],1),s("to-top")],2)},Zt=[],Gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"book-item"},[s("div",{staticClass:"item"},[s("div",{staticClass:"img-box"},[s("router-link",{attrs:{to:{name:"detail",query:{url:t.item.source_url}}}},[s("img",{attrs:{src:t.item.image_url,alt:t.item.name,width:"120",height:"150"},on:{error:function(e){return t.imgDefault(e)}}})])],1),s("dl",{staticClass:"message-box"},[s("dt",[s("router-link",{attrs:{to:{name:"detail",query:{url:t.item.source_url}}}},[t._v(t._s(t.item.name))]),s("span",[s("router-link",{attrs:{to:{name:"search",query:{keyword:t.item.author}}}},[t._v(t._s(t.item.author))])],1),s("span",[t._v(t._s(t.item.book_type))])],1),s("dd",{staticClass:"des"},[t._v(t._s(t.item.description))]),s("dd",{staticClass:"chapter"},[t._v("\n        最新更新：\n        "),s("router-link",{attrs:{to:{name:"chapter",query:{link:t.item.latest_chapter_url}}}},[t._v(t._s(t.item.latest_chapters))])],1),s("dd",{staticClass:"time-box"},[t._v("最后更新："+t._s(t.item.update_time))])]),s("div",{staticClass:"user-operation"},[s("el-button",{attrs:{plain:""},on:{click:function(e){return t.toDetail()}}},[t._v("书籍详情")]),s("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addToShelf()}}},[t._v("加入书架")])],1)])])},Kt=[],Qt={name:"book-item",props:{item:{type:Object,default:null,required:!0}},methods:{imgDefault(t){this.item.image_url=s("30fa")},toDetail(){this.$router.push({name:"detail",query:{url:this.item.source_url}})},addToShelf(){C.a.post("/book/add",{name:this.item.name,author:this.item.author,description:this.item.description,source_url:this.item.source_url,book_type:this.item.book_type},{headers:{Authorization:this.$store.getters.getToken}}).then(t=>{212===t.data.status?this.$message({message:"添加成功",type:"success"}):this.$message({message:"网络错误",type:"warning"})}).catch(()=>{this.$message({message:"请登陆账号...",type:"warning"}),this.$router.push("/login")})}}},Vt=Qt,Xt=(s("9b03"),Object(d["a"])(Vt,Gt,Kt,!1,null,"e735d4f0",null)),Yt=Xt.exports,te={data(){return{loading:!0,results:[],current:1,page_count:1}},computed:{keyword(){return this.$route.query.keyword}},methods:{searchBooks(){return C.a.post("http://localhost:9080/crawl.json",{spider_name:"Search",request:{url:1==this.current?`https://www.biduo.cc/search.php?keyword=${this.keyword}`:`https://www.biduo.cc/search.php?keyword=${this.keyword}&page=${this.current}`}}).then(t=>{"ok"!==t.data.status?this.$message({message:"网络错误",type:"warning"}):(this.loading=!1,this.results=t.data.items,this.page_count=t.data.items[0].page_count)})},currentChange(t){this.current=t,this.searchBooks(),this.loading=!0,document.getElementById("app").scrollTop=0}},components:{BookItem:Yt,ToTop:S},created(){this.searchBooks()},watch:{$route(t,e){"/search"===t.path&&(this.loading=!0,t.query.keyword!==e.query.keyword&&(this.current=1),this.searchBooks())}}},ee=te,se=(s("2e5e"),Object(d["a"])(ee,Ut,Zt,!1,null,"2db5ec37",null)),ae=se.exports,re=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"type-view"},[s("type-navigation",{on:{routeChange:t.getWebData}}),s("div",{staticClass:"detail"},t._l(t.detail_list,function(t){return s("type-detail-recommend",{key:t.link,attrs:{DetailItem:t}})}),1),s("hr"),s("div",t._l(t.simple_list,function(t){return s("type-simple-recommend",{key:t.link,attrs:{SimpleItem:t}})}),1)],1)},oe=[],ie=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"type-navigation"},[s("ul",{staticClass:"link-list"},[s("li",[s("router-link",{attrs:{to:{path:"/type/玄幻魔法"}}},[s("span",{staticClass:"iconfont icon-xuanhuan"}),t._v("玄幻魔法\n      ")])],1),s("li",[s("router-link",{attrs:{to:{path:"/type/武侠修真"}}},[s("span",{staticClass:"iconfont icon-wuxia"}),t._v("武侠修真\n      ")])],1),s("li",[s("router-link",{attrs:{to:{path:"/type/都市言情"}}},[s("span",{staticClass:"iconfont icon-dushi"}),t._v("都市言情\n      ")])],1),s("li",[s("router-link",{attrs:{to:{path:"/type/历史军事"}}},[s("span",{staticClass:"iconfont icon-junshi"}),t._v("历史军事\n      ")])],1),s("li",[s("router-link",{attrs:{to:{path:"/type/网游动漫"}}},[s("span",{staticClass:"iconfont icon-erciyuan"}),t._v("网游动漫\n      ")])],1),s("li",[s("router-link",{attrs:{to:{path:"/type/科幻小说"}}},[s("span",{staticClass:"iconfont icon-kehuan"}),t._v("科幻小说\n      ")])],1),s("li",[s("router-link",{attrs:{to:{path:"/type/恐怖灵异"}}},[s("span",{staticClass:"iconfont icon-lingyi"}),t._v("恐怖灵异\n      ")])],1),s("li",[s("router-link",{attrs:{to:{path:"/type/其他小说"}}},[s("span",{staticClass:"iconfont icon-other"}),t._v("其他小说\n      ")])],1)])])},ne=[],le={name:"type-navigation",watch:{$route(t,e){t.params.typename!==e.params.typename&&this.$emit("routeChange")}}},ce=le,ue=(s("b8e9"),Object(d["a"])(ce,ie,ne,!1,null,"2cee1da4",null)),me=ue.exports,de=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"type-detail-recommend"},[s("div",{staticClass:"img-box"},[s("router-link",{attrs:{to:{name:"detail",query:{url:t.DetailItem.link}}}},[s("img",{attrs:{src:t.DetailItem.image_url,width:"67",height:"82",alt:t.DetailItem.name},on:{error:function(e){return t.imgDefault(e)}}})])],1),s("div",{staticClass:"intro"},[s("router-link",{attrs:{to:{name:"detail",query:{url:t.DetailItem.link}}}},[s("h4",[t._v(t._s(t.DetailItem.name))])]),s("span",[t._v("-")]),s("router-link",{attrs:{to:{name:"search",query:{keyword:t.DetailItem.author}}}},[s("span",[t._v(t._s(t.DetailItem.author))])]),s("p",{staticClass:"des"},[t._v(t._s(t.DetailItem.description))])],1)])},he=[],pe={name:"type-detail-recommend",props:{DetailItem:{type:Object,default:null,required:!0}}},ge=pe,fe=(s("5ade"),Object(d["a"])(ge,de,he,!1,null,"2e20b851",null)),_e=fe.exports,ve=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"type-simple-recommend"},[s("router-link",{attrs:{to:{name:"detail",query:{url:t.SimpleItem.link}}}},[t._v(t._s(t.SimpleItem.name))]),s("span",[t._v("-")]),s("router-link",{staticStyle:{color:"rgba(52, 73, 94,0.6)"},attrs:{to:{name:"search",query:{keyword:t.SimpleItem.author}}}},[s("span",[t._v(t._s(t.SimpleItem.author))])])],1)},ke=[],be={name:"type-simple-recommend",props:{SimpleItem:{type:Object,default:null,required:!0}}},ye=be,we=(s("b8c1"),Object(d["a"])(ye,ve,ke,!1,null,"23cd6f2a",null)),Ce=we.exports,xe={name:"type-view",data(){return{loading:!0,detail_list:[],simple_list:[]}},methods:{getWebData(){this.loading=!0,C.a.post("http://localhost:9080/crawl.json",{spider_name:"Classification",request:{url:this.$store.state.typeLink[this.$route.params.typename]}}).then(t=>{if("ok"!==t.data.status)this.$message({message:"网络错误",type:"warning"});else{this.loading=!1;const e=t.data.items[0];this.detail_list=e.detail_list,this.simple_list=e.simple_list}}).catch(()=>{this.$message({message:"网络错误",type:"warning"})})}},created(){this.getWebData()},components:{TypeNavigation:me,TypeDetailRecommend:_e,TypeSimpleRecommend:Ce}},$e=xe,Te=(s("3a43"),Object(d["a"])($e,re,oe,!1,null,"a16f4b92",null)),qe=Te.exports,je=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"space"},[s("personal-message"),s("div",{staticClass:"blist"},t._l(t.list,function(t){return s("shelf-item",{key:t.source_url,attrs:{item:t}})}),1)],1)},Se=[],Fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"personal-message"},[a("div",{staticClass:"wrap"},[a("div",{staticClass:"msg"},[a("img",{staticClass:"avatar-box",attrs:{src:s("18d5"),alt:"",width:"100",height:"100"}}),a("div",{staticClass:"info"},[a("h2",[t._v(t._s(t.username))]),a("el-input",{model:{value:t.signature,callback:function(e){t.signature=e},expression:"signature"}})],1)])])])},Ee=[],Oe={name:"personal-message",data(){return{username:"",signature:""}},created(){this.$store.getters.getLoginResult?(this.username=this.$store.state.authorization.username,this.signature=this.$store.state.authorization.signature):this.$router.push("/login")}},Ie=Oe,Le=(s("0867"),Object(d["a"])(Ie,Fe,Ee,!1,null,"5fc1b67b",null)),Be=Le.exports,Ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shelf-item"},[s("div",{staticClass:"item"},[s("dl",{staticClass:"message-box"},[s("dt",[s("router-link",{attrs:{to:{name:"detail",query:{url:t.item.source_url}}}},[t._v(t._s(t.item.name))]),s("span",[s("router-link",{attrs:{to:{name:"search",query:{keyword:t.item.author}}}},[t._v(t._s(t.item.author))])],1),s("span",[t._v(t._s(t.item.book_type))])],1),s("dd",{staticClass:"des"},[t._v(t._s(t.item.description))])]),s("div",{staticClass:"user-operation"},[s("el-button",{attrs:{plain:""},on:{click:function(e){return t.toDetail()}}},[t._v("书籍详情")]),s("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.removeFromShelf()}}},[t._v("移出书架")])],1)])])},ze=[],De={name:"shelf-item",props:{item:{type:Object,default:null,required:!0}},methods:{imgDefault(t){this.item.image_url=s("30fa")},toDetail(){this.$router.push({name:"detail",query:{url:this.item.source_url}})},removeFromShelf(){this.$store.dispatch("removeBookAction",{name:this.item.name,author:this.item.author}).then(t=>{222===t?this.$message({message:"删除成功",type:"success"}):this.$message({message:"网络错误",type:"warning"})})}}},Re=De,Pe=(s("1af7"),Object(d["a"])(Re,Ae,ze,!1,null,"630b17e6",null)),Me=Pe.exports,Ne={name:"space",computed:{list(){return this.$store.getters.getBookList}},components:{PersonalMessage:Be,ShelfItem:Me},created(){this.$store.dispatch("getBookListAction")}},He=Ne,We=(s("dc46"),Object(d["a"])(He,je,Se,!1,null,"ba1e852e",null)),Je=We.exports;a["default"].use(k["a"]);var Ue=new k["a"]({mode:"history",base:"/",routes:[{path:"/detail",name:"detail",component:J},{path:"/login",name:"login",component:V},{path:"/register",name:"register",component:at},{path:"/",name:"home",component:It},{path:"/chapter",name:"chapter",component:Jt},{path:"/search",name:"search",component:ae},{path:"/type/:typename",name:"type",component:qe},{path:"/space/:id",name:"space",component:Je}]});a["default"].use(St["a"]);var Ze=new St["a"].Store({state:{authorization:{status:void 0,id:"",type:"",token:"",username:" ",email:"",avatar:"",signature:""},bookshelfList:null,home:{home_list:[],classification_list:[]},typeLink:{"玄幻魔法":"https://www.biduo.cc/book_1_1/","武侠修真":"https://www.biduo.cc/book_2_1/","都市言情":"https://www.biduo.cc/book_3_1/","历史军事":"https://www.biduo.cc/book_4_1/","网游动漫":"https://www.biduo.cc/book_6_1/","科幻小说":"https://www.biduo.cc/book_7_1/","恐怖灵异":"https://www.biduo.cc/book_8_1/","其他小说":"https://www.biduo.cc/book_10_1/"},recommendList:[],theme:"default"},getters:{getToken:t=>{return`${t.authorization.type} ${t.authorization.token}`},getLoginResult:t=>{return 122===t.authorization.status},getUserId:t=>t.authorization.id,getHomeList:t=>{return t.home.home_list},getClassificationList:t=>{return t.home.classification_list},getTheme:t=>{return t.theme},getBookList:t=>{return t.bookshelfList}},mutations:{setToken:(t,e)=>{122===e.status&&(t.authorization.username=e.username,t.authorization.type=e.type,t.authorization.token=e.token,t.authorization.id=e.id,t.authorization.avatar=e.avatar,t.authorization.email=e.email,t.authorization.signature=e.signature),t.authorization.status=e.status},removeToken:t=>{t.authorization.status=void 0,t.authorization.type="",t.authorization.username="",t.authorization.token=""},setHomerecommend:(t,e)=>{t.home.home_list=e.home_list,t.home.classification_list=e.classification_list},setTheme:(t,e)=>{t.theme=e},setBookList:(t,e)=>{t.bookshelfList=null,t.bookshelfList=e.list},setRecommendList:(t,e)=>{t.recommendList=e.booklist}},actions:{loginAction:async(t,e)=>{const s=await C.a.post("/user/login",{account:e.account,password:e.password});t.commit("setToken",s.data)},homeAction:async t=>{const e=await C.a.post("http://localhost:9080/crawl.json",{spider_name:"Home",request:{url:"https://www.biduo.cc/"}});return t.commit("setHomerecommend",e.data.items[0]),e.data.status},getBookListAction:async t=>{if(!t.getters.getLoginResult)return;const e=await C.a.get("/book/list",{headers:{Authorization:t.getters.getToken}});t.commit("setBookList",e.data)},removeBookAction:async(t,e)=>{const s=await C.a.post("/book/remove",{name:e.name,author:e.author},{headers:{Authorization:t.getters.getToken}});return t.dispatch("getBookListAction"),s.data.status},recommendAction:async t=>{if(!t.getters.getLoginResult)return;const e=await C.a.get("/recommend",{headers:{Authorization:t.getters.getToken}});t.commit("setRecommendList",e.data)}}});s("02e6");a["default"].config.productionTip=!1,a["default"].use(o.a),new a["default"]({router:Ue,store:Ze,render:function(t){return t(v)}}).$mount("#app")},"5ade":function(t,e,s){"use strict";var a=s("dd41"),r=s.n(a);r.a},"5f60":function(t,e,s){},6262:function(t,e,s){"use strict";var a=s("5f60"),r=s.n(a);r.a},6932:function(t,e,s){"use strict";var a=s("0c3b"),r=s.n(a);r.a},6944:function(t,e,s){"use strict";var a=s("72f6"),r=s.n(a);r.a},"6a49":function(t,e,s){},"6b2e":function(t,e,s){},"72f6":function(t,e,s){},"7d23":function(t,e,s){"use strict";var a=s("a61d"),r=s.n(a);r.a},"81c2":function(t,e,s){"use strict";var a=s("9ed6"),r=s.n(a);r.a},"85ec":function(t,e,s){},8658:function(t,e,s){"use strict";var a=s("bfcc"),r=s.n(a);r.a},"8ca8":function(t,e,s){"use strict";var a=s("6b2e"),r=s.n(a);r.a},9433:function(t,e,s){"use strict";var a=s("15b3"),r=s.n(a);r.a},"96b3":function(t,e,s){},"9b03":function(t,e,s){"use strict";var a=s("30ab"),r=s.n(a);r.a},"9ed6":function(t,e,s){},"9f1f":function(t,e,s){},a61d:function(t,e,s){},a8d3:function(t,e,s){},ac54:function(t,e,s){},b6c9:function(t,e,s){},b8c1:function(t,e,s){"use strict";var a=s("26ba"),r=s.n(a);r.a},b8e9:function(t,e,s){"use strict";var a=s("2eff"),r=s.n(a);r.a},b9a6:function(t,e,s){},bfcc:function(t,e,s){},c020:function(t,e,s){"use strict";var a=s("b9a6"),r=s.n(a);r.a},cb27:function(t,e,s){},ce9e:function(t,e,s){"use strict";var a=s("cb27"),r=s.n(a);r.a},cf05:function(t,e,s){t.exports=s.p+"static/img/logo.9d068277.png"},cf3d:function(t,e,s){},cfd4:function(t,e,s){"use strict";var a=s("96b3"),r=s.n(a);r.a},d491:function(t,e,s){},dc41:function(t,e,s){},dc46:function(t,e,s){"use strict";var a=s("efd1"),r=s.n(a);r.a},dd41:function(t,e,s){},efd1:function(t,e,s){},f083:function(t,e,s){"use strict";var a=s("dc41"),r=s.n(a);r.a}});
//# sourceMappingURL=app.908098a7.js.map